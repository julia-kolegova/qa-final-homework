### TC-011 — Перевод **точно** всего доступного остатка (баланс − резерв)

**Цель:**
Убедиться, что система разрешает перевод суммы, которая вместе с комиссией ровно равна доступному остатку.

**Предусловия:**
Рублёвый счёт.
Баланс = 1 100 ₽, резерв = 0 ₽ → доступно = 1 100 ₽.

**Тестовые данные:**

| Поле           | Значение | Комментарий           |
| -------------- | -------- | --------------------- |
| Сумма перевода | 1 000 ₽  | Комиссия 10 % = 100 ₽ |

**Шаги:**

1. Ввести номер карты.
2. Ввести сумму **1 000 ₽**.
3. Нажать **«Перевести»**.

**Ожидаемый результат:**

* Операция проходит успешно.
* Баланс становится **0 ₽**, резерв не изменяется.
* Сообщение: «Перевод 1 000 ₽ (+ комиссия 100 ₽) успешно отправлен».

---

### TC-012 — Ввод суммы с десятичной дробью и запятой

**Цель:**
Проверить, что приложение корректно обрабатывает дробные значения, введённые через запятую.

**Предусловия:**
Рублёвый счёт, баланс ≥ 10 000 ₽.

**Тестовые данные:**

* Сумма: **1 234,56 ₽** (две цифры после запятой).

**Шаги:**

1. Ввести номер карты.
2. Ввести сумму **1 234,56** (с запятой).
3. Нажать **«Перевести»**.

**Ожидаемый результат:**

* Сумма конвертируется в числовой формат `1234.56`.
* Комиссия = ** 123 ₽**.
* Перевод выполняется, значения округляются до 2 знаков.

---

### TC-013 — Ввод суммы с пробелом-разделителем тысяч

**Цель:**
Проверить, что приложение принимает сумму, введённую в формате «1 000» с пробелом.

**Предусловия:**
Рублёвый счёт, баланс ≥ 10 000 ₽.

**Тестовые данные:**

* Сумма: **1 000** (ввод «1 000» с пробелом).

**Шаги:**

1. Ввести номер карты.
2. Ввести сумму `1 000` (с пробелом).
3. Перейти в следующее поле.

**Ожидаемый результат:**

* Поле очищает разделитель, показывая `1000`.
* Комиссия = `100 ₽`.
* Кнопка **«Перевести»** активна, ошибка не отображается.

---

### TC-014 — Ввод суммы с более чем двумя знаками после запятой

**Цель:**
Убедиться, что приложение блокирует суммы с точностью > 2 знаков (например, копейки × 0,1).

**Предусловия:**
Рублёвый счёт, баланс ≥ 10 000 ₽.

**Тестовые данные:**

* Сумма: **1234,567 ₽**

**Шаги:**

1. Ввести номер карты.
2. Ввести сумму `1234,567`.
3. Перейти в следующее поле или нажать **«Перевести»**.

**Ожидаемый результат:**

* Под полем появляется ошибка: «Максимум два знака после запятой».
* Кнопка **неактивна** до исправления значения.

---

### TC-015 — Одновременные переводы из двух вкладок (конкурентный баланс)

**Цель:**
Проверить целостность данных при параллельных операциях с одного счёта.

**Предусловия:**

* Рублёвый счёт: баланс = 5 000 ₽, резерв = 0 ₽.
* Открыты **две** вкладки браузера, каждая показывает один и тот же счёт.

**Тестовые данные:**

| Вкладка | Сумма   | Комиссия | Итог    |
| ------- | ------- | -------- | ------- |
| № 1     | 2 000 ₽ | 200 ₽    | 2 200 ₽ |
| № 2     | 3 000 ₽ | 300 ₽    | 3 300 ₽ |

**Шаги:**

1. Во вкладке № 1 ввести 2 000 ₽ и нажать **«Перевести»** (ожидаемо успешно).
2. Не обновляя вкладку № 2, сразу выполнить перевод 3 000 ₽.

**Ожидаемый результат:**

* Перевод во вкладке № 2 отклоняется с ошибкой «Недостаточно средств».
* При обновлении обеих вкладок баланс отображается **2 800 ₽** (5 000 − 2 200 ₽).
* Двойного списания не происходит.

---



