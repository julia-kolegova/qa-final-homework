

### TC-001 — Пересчёт комиссии при изменении суммы после успешного перевода

**Цель:**
Убедиться, что комиссия автоматически пересчитывается при изменении суммы после первого перевода.

**Предусловия:**
Открыта страница перевода. Выбран рублёвый счёт. Выполнен успешный перевод на 5 000 ₽.

**Тестовые данные:**

* Номер карты: `5559 0000 0000 0000`
* Сумма 1: `5 000 ₽`
* Сумма 2: `1 000 ₽`

**Шаги:**

1. Ввести номер карты.
2. Ввести сумму **5 000 ₽**.
3. Нажать кнопку **«Перевести»**.
4. Изменить сумму на **1 000 ₽**, не обновляя страницу.
5. Посмотреть на значение поля «Комиссия».

**Ожидаемый результат:**
Комиссия автоматически пересчитывается под новую сумму: `100 ₽`.

**Фактический результат (ловит баг):**
Комиссия остаётся на уровне 500 ₽ — как при первом переводе.
**Severity:** High
**Баг:** Непересчитываемая комиссия после успешного перевода.

---

### ✅ TC-002 — Проверка суммы в сообщении об успешном переводе

**Цель:**
Проверить, что сообщение об успешном переводе отображает актуальную сумму и комиссию.

**Предусловия:**
Открыта страница, выбран рублёвый счёт. Введена валидная карта и сумма.

**Тестовые данные:**

* Номер карты: `4111 1111 1111 1111`
* Сумма: `1 000 ₽`

**Шаги:**

1. Ввести номер карты.
2. Ввести сумму перевода **1 000 ₽**.
3. Нажать кнопку **«Перевести»**.
4. Обратить внимание на сообщение об успешном переводе.

**Ожидаемый результат:**
Текст: `Перевод 1 000 ₽ (+ комиссия 100 ₽) успешно отправлен`.

**Фактический результат (ловит баг):**
Сообщение показывает **предыдущую сумму**.
**Severity:** Low
**Баг:** Уведомление не отражает текущую сумму перевода.

---

### ✅ TC-003 — Валидация превышения баланса с учётом комиссии

**Цель:**
Убедиться, что отображается ошибка при попытке перевода суммы, превышающей доступный баланс.

**Предусловия:**
Выбран долларовый счёт, баланс: `100 $`, резерв: `0 $`.

**Тестовые данные:**

* Номер карты: `4000 1234 5678 9000`
* Сумма: `3 111 $` (комиссия: `310 $`, итог: `3 421 $`)

**Шаги:**

1. Выбрать долларовый счёт.
2. Ввести номер карты.
3. Ввести сумму **3 111 \$**.
4. Нажать кнопку **«Перевести»**.

**Ожидаемый результат:**
Ошибка: `Недостаточно средств для перевода`. Кнопка становится неактивной.

**Фактический результат (ловит баг):**
Ошибка **не отображается**, кнопка остаётся активной.
**Severity:** High
**Баг:** Нет валидации превышения лимита.

---

### ✅ TC-004 — Проверка округления комиссии при малых суммах

**Цель:**
Проверить, что комиссия рассчитывается по формуле `floor(сумма * 0.1)`.

**Предусловия:**
Выбран рублёвый счёт. Баланс: ≥ 100 ₽.

**Тестовые данные:**

* Номер карты: `1234 5678 9090 1122`
* Сумма: `99 ₽`

**Шаги:**

1. Ввести номер карты.
2. Ввести сумму **99 ₽**.
3. Посмотреть на поле «Комиссия».

**Ожидаемый результат:**
Комиссия = `floor(99 × 0.1)` = **9 ₽**.

**Фактический результат (ловит баг):**
Комиссия может считаться неверно (например, 10 ₽).
**Severity:** High
**Баг:** Ошибка в расчёте комиссии.

---

### ✅ TC-005 — Кросс-валютный пересчёт комиссии и баланса при смене счёта

**Цель:**
Убедиться, что при смене счёта (валюты) пересчитываются сумма, комиссия и валидируется доступный баланс.

**Предусловия:**
Имеются два счёта:

* Рублёвый: баланс = `30 000 ₽`, резерв = `2 000 ₽`, доступно: `28 000 ₽`
* Долларовый: `100 $`
* Курс: `1 $ = 90 ₽`

**Тестовые данные:**

* Сумма в рублях: `28 000 ₽`
* Сумма в долларах: `400 $` (комиссия: `40 $`, итог: `440 $`)

**Шаги:**

1. Выбрать рублёвый счёт, ввести **28 000 ₽**.
2. Проверить комиссию.
3. Переключиться на долларовый счёт.
4. Ввести **400 \$**, нажать **«Перевести»**.
5. Отследить состояние кнопки и наличие ошибки.

**Ожидаемый результат:**

* При 400 \$ должна появиться ошибка: `Недостаточно средств`.
* Кнопка «Перевести» становится неактивной.
* Комиссия пересчитывается по валюте.

**Фактический результат (возможные баги):**

* Комиссия не пересчитывается.
* Ошибка не отображается.
* Кнопка активна при недостатке средств.
  **Severity:** High
  **Баг:** Некорректная логика валидации и пересчёта при смене валюты.

---

Если нужно, могу дополнительно экспортировать это в `.md` файл или таблицу для Google Docs.
